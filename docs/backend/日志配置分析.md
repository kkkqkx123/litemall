# Admin-API 日志配置分析报告

## 1. 日志配置概述

通过分析 litemall 项目的配置文件，admin-api 模块的日志配置主要分布在以下位置：

### 1.1 主要配置文件
- **litemall-all/src/main/resources/application.yml** - 主配置文件
- **litemall-all/src/main/resources/logback-spring.xml** - 日志详细配置
- **litemall-admin-api/src/main/resources/application.yml** - admin-api 特定配置

### 1.2 日志级别配置
根据配置文件，各模块的日志级别设置如下：
- `org.linlinjava.litemall.admin`: DEBUG
- `org.linlinjava.litemall.wx`: DEBUG  
- `org.linlinjava.litemall`: DEBUG
- `org.linlinjava.litemall.core`: ERROR
- `org.linlinjava.litemall.db`: ERROR
- `org.springframework`: ERROR
- `org.mybatis`: ERROR
- `root`: ERROR

## 2. 日志文件存放位置

### 2.1 日志目录
日志文件默认存放在项目根目录下的 `logs` 文件夹中：
```xml
<property name="log.path" value="logs" />
```

### 2.2 日志文件类型
系统配置了三种日志输出方式：

1. **控制台输出 (console)**
   - 级别：DEBUG 及以上
   - 格式：`HH:mm:ss.SSS logback [thread] LEVEL logger - message`

2. **普通日志文件 (log.log)**
   - 文件路径：`logs/log.log`
   - 滚动策略：按天分割，格式为 `logs/log-yyyy-MM-dd.log`
   - 格式：`date LEVEL [thread] logger [file : line] message`

3. **错误日志文件 (error.log)**
   - 文件路径：`logs/error.log`
   - 滚动策略：按天分割，格式为 `logs/error-yyyy-MM-dd.log`
   - 级别：仅记录 ERROR 级别日志

## 3. Admin-API 特定配置

### 3.1 端口配置
admin-api 模块运行在端口 8083：
```yaml
server:
  port: 8083
```

### 3.2 日志级别
admin-api 模块的日志级别设置为 DEBUG，这意味着会记录详细的调试信息：
```yaml
logging:
  level:
    org.linlinjava.litemall.admin: DEBUG
```

## 4. 日志查看方法

### 4.1 实时查看
1. 启动应用后，可以在控制台查看实时日志
2. 使用 `tail -f logs/log.log` 命令实时监控日志文件

### 4.2 历史日志查看
1. 进入项目根目录下的 `logs` 文件夹
2. 查看对应的日志文件：
   - `log.log` - 当前日志
   - `log-YYYY-MM-DD.log` - 历史日志
   - `error.log` - 错误日志

## 5. 注意事项

1. **日志文件大小**：日志文件会按天自动分割，避免单个文件过大
2. **错误日志分离**：ERROR 级别的日志会单独记录到 error.log 文件中
3. **调试信息**：由于 admin-api 设置为 DEBUG 级别，会生成较多调试日志，生产环境建议调整为 INFO 级别

## 6. 配置修改建议

如需修改日志配置，可以编辑以下文件：
- 修改日志级别：`litemall-all/src/main/resources/application.yml`
- 修改日志格式和路径：`litemall-all/src/main/resources/logback-spring.xml`
- admin-api 特定配置：`litemall-admin-api/src/main/resources/application.yml`