# 功能2：新增多笔订单

## 功能描述
新增多笔订单数据，要求：不同月份，不同年，不同用户购买不同类别的商品。

## 修改层级分析

### 1. 数据库层级修改
- **修改位置**：MySQL数据库
- **涉及文件**：
  - `litemall-db/sql/litemall.sql` - 数据库初始化脚本
  - 可能需要修改的表：
    - `litemall_order` - 订单主表
    - `litemall_order_goods` - 订单商品表
    - `litemall_user` - 用户表
    - `litemall_goods` - 商品表
    - `litemall_category` - 商品分类表

### 2. 后端层级修改
- **修改位置**：Spring Boot后端API
- **涉及文件**：
  - `litemall-admin-api/src/main/java/org/linlinjava/litemall/admin/web/AdminOrderController.java` - 订单管理API
  - `litemall-wx-api/src/main/java/org/linlinjava/litemall/wx/web/WxOrderController.java` - 微信端订单API
  - 相关的Service和Mapper类

### 3. 前端层级修改
- **修改位置**：管理后台前端
- **涉及文件**：
  - `litemall-admin/src/views/mall/order.vue` - 订单管理页面
  - 可能需要添加批量导入功能

### 4. 依赖层级修改
- **修改位置**：项目依赖配置
- **涉及文件**：
  - 通常不需要修改依赖

## 具体实施步骤

### 步骤1：准备测试数据
1. **用户数据**：准备多个不同用户ID
2. **商品数据**：准备多个不同类别的商品
3. **时间数据**：准备不同年份和月份的时间戳

### 步骤2：数据库脚本编写
1. 编写SQL插入脚本，插入多笔订单数据
2. 确保订单数据满足以下要求：
   - 不同用户ID
   - 不同商品类别
   - 不同年份（如2022、2023、2024）
   - 不同月份（1-12月）
   - 不同的订单状态

### 步骤3：订单数据示例结构
```sql
-- 示例订单数据插入
INSERT INTO litemall_order (user_id, order_sn, order_status, aftersale_status, consignee, mobile, address, goods_price, freight_price, coupon_price, integral_price, order_price, actual_price, add_time, pay_time, ship_time, confirm_time, comments, end_time) 
VALUES 
(1, '202201010001', 201, 0, '张三', '13800138001', '北京市朝阳区', 100.00, 10.00, 5.00, 0.00, 105.00, 105.00, 1640995200, 1640998800, 1641085200, 1641171600, '测试订单1', 1641258000),
(2, '202202150002', 301, 0, '李四', '13800138002', '上海市浦东新区', 200.00, 15.00, 10.00, 0.00, 205.00, 205.00, 1644854400, 1644858000, 1644944400, NULL, '测试订单2', NULL),
(3, '202303200003', 101, 0, '王五', '13800138003', '广州市天河区', 150.00, 12.00, 8.00, 0.00, 154.00, 154.00, 1679356800, NULL, NULL, NULL, '测试订单3', NULL);

-- 订单商品数据插入
INSERT INTO litemall_order_goods (order_id, goods_id, goods_name, goods_sn, product_id, number, price, specifications, pic_url, add_time, comment) 
VALUES 
(1, 1, '商品A', 'G001', 1, 1, 100.00, '规格1', 'http://example.com/pic1.jpg', 1640995200, 0),
(2, 2, '商品B', 'G002', 2, 2, 100.00, '规格2', 'http://example.com/pic2.jpg', 1644854400, 0),
(3, 3, '商品C', 'G003', 3, 1, 150.00, '规格3', 'http://example.com/pic3.jpg', 1679356800, 0);
```

### 步骤4：后端API扩展（可选）
1. 如果需要批量导入功能，可以开发订单批量导入API
2. 在AdminOrderController中添加批量创建订单的方法

### 步骤5：前端功能扩展（可选）
1. 在订单管理页面添加批量导入功能
2. 实现文件上传和数据处理逻辑

### 步骤6：测试验证
1. 执行数据库脚本插入测试数据
2. 登录管理后台验证订单数据显示
3. 检查订单数据的正确性：
   - 用户分布是否正确
   - 时间分布是否符合要求
   - 商品类别是否多样

## 数据要求详细说明

### 时间分布要求
- **年份**：至少包含2-3个不同年份
- **月份**：覆盖1-12月，确保不同月份都有订单
- **日期**：每个月的不同日期

### 用户分布要求
- **用户数量**：至少3-5个不同用户
- **用户类型**：可以包含新用户和老用户

### 商品类别要求
- **类别数量**：至少3-5个不同商品类别
- **商品种类**：每个类别下的不同商品

## 注意事项
1. 确保订单数据的完整性和一致性
2. 注意外键约束关系
3. 订单状态要符合业务逻辑
4. 时间戳要正确设置
5. 价格计算要准确