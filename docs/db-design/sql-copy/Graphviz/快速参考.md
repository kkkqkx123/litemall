# Graphviz ä¸­æ–‡å­—ä½“å¿«é€Ÿå‚è€ƒ

## ğŸš€ å¿«é€Ÿå¼€å§‹

```python
# 1. å¯¼å…¥åº“å¹¶è®¾ç½®ç¼–ç 
# -*- coding: utf-8 -*-
from graphviz import Digraph
import os

# 2. è®¾ç½®ç¯å¢ƒå˜é‡
os.environ['GRAPHVIZ_DOT'] = 'dot'
os.environ['LC_ALL'] = 'zh_CN.UTF-8'
os.environ['LANG'] = 'zh_CN.UTF-8'

# 3. è‡ªåŠ¨å­—ä½“æ£€æµ‹
def find_available_font():
    fonts = ['SimSun', 'Microsoft YaHei', 'SimHei', 'NSimSun', 'Arial Unicode MS']
    for font in fonts:
        try:
            test = Digraph('test', format='png', encoding='utf-8')
            test.node('test_node', 'æµ‹è¯•', fontname=font)
            test.render('font_test', cleanup=True)
            return font
        except:
            continue
    return 'Arial'

CHINESE_FONT = find_available_font()

# 4. åˆ›å»ºå›¾è¡¨å¹¶è®¾ç½®å­—ä½“
graph = Digraph('å›¾è¡¨', format='png', encoding='utf-8')
graph.graph_attr['fontname'] = CHINESE_FONT
graph.node_attr['fontname'] = CHINESE_FONT
graph.edge_attr['fontname'] = CHINESE_FONT

# 5. æ·»åŠ ä¸­æ–‡å†…å®¹å¹¶ç”Ÿæˆ
graph.node('èŠ‚ç‚¹', 'ä¸­æ–‡å†…å®¹', fontname=CHINESE_FONT)
graph.render('output', view=True)
```

## ğŸ”¤ å­—ä½“ä¼˜å…ˆçº§ï¼ˆæ¨èé¡ºåºï¼‰

1. **SimSun** - å…¼å®¹æ€§æœ€å¥½ â­â­â­â­â­
2. **Microsoft YaHei** - ç°ä»£ç®€æ´ â­â­â­â­
3. **SimHei** - è§†è§‰æ•ˆæœå¥½ â­â­â­â­
4. **NSimSun** - ä¼ ç»Ÿé£æ ¼ â­â­â­
5. **Arial Unicode MS** - è·¨å¹³å° â­â­â­

## ğŸ› ï¸ å¸¸è§é—®é¢˜é€ŸæŸ¥

| é—®é¢˜ | è§£å†³æ–¹æ¡ˆ |
|------|----------|
| ä¸­æ–‡æ˜¾ç¤ºæ–¹æ¡† | ä½¿ç”¨å­—ä½“æ£€æµ‹å‡½æ•°ï¼Œå°è¯•ä¸åŒå­—ä½“ |
| å­—ä½“æ˜¾ç¤ºå¼‚å¸¸ | æ£€æŸ¥æ–‡ä»¶ç¼–ç ï¼Œç¡®è®¤ UTF-8 |
| å›¾è¡¨ç”Ÿæˆå¤±è´¥ | æ£€æŸ¥ Graphviz å®‰è£…ï¼Œç®€åŒ–æµ‹è¯• |
| å­—ä½“åç§°é”™è¯¯ | ä½¿ç”¨ç³»ç»Ÿå­—ä½“ç®¡ç†å™¨æŸ¥çœ‹æ­£ç¡®åç§° |

## ğŸ“‹ æ ·å¼æ¨¡æ¿

```python
# å®ä½“æ ·å¼
ENTITY = {
    'shape': 'box', 'fontname': CHINESE_FONT,
    'style': 'filled', 'fillcolor': 'lightblue'
}

# å±æ€§æ ·å¼  
ATTRIBUTE = {
    'shape': 'ellipse', 'fontname': CHINESE_FONT,
    'style': 'filled', 'fillcolor': 'lightyellow'
}

# å…³ç³»æ ·å¼
RELATIONSHIP = {
    'shape': 'diamond', 'fontname': CHINESE_FONT,
    'style': 'filled', 'fillcolor': 'lightgreen'
}
```

## ğŸ¯ ä¸€é”®æµ‹è¯•è„šæœ¬

```bash
# Windows
python -c "
from graphviz import Digraph
fonts = ['SimSun','Microsoft YaHei','SimHei','NSimSun','Arial Unicode MS']
for f in fonts:
    try:
        g = Digraph('test', format='png', encoding='utf-8')
        g.node('test', 'ä¸­æ–‡æµ‹è¯•', fontname=f)
        g.render(f'test_{f}', cleanup=True)
        print(f'{f}: âœ…')
    except:
        print(f'{f}: âŒ')
"
```