# 子项目详细说明

## 后端子项目

### litemall-core 核心模块

#### 模块定位
系统的基础核心模块，提供通用的业务能力和第三方服务集成。

#### 目录结构
```
litemall-core/
├── src/main/java/org/linlinjava/litemall/core/
│   ├── config/           # 系统配置
│   │   ├── JacksonConfig.java
│   │   ├── ShiroConfig.java
│   │   └── WxConfig.java
│   ├── notify/           # 通知服务
│   │   ├── SMSNotifier.java
│   │   └── MailNotifier.java
│   ├── qcode/            # 二维码生成
│   ├── storage/          # 文件存储
│   │   ├── AliyunStorage.java
│   │   ├── QiniuStorage.java
│   │   ├── TencentStorage.java
│   │   └── LocalStorage.java
│   ├── system/           # 系统配置
│   ├── task/             # 定时任务
│   ├── util/             # 工具类
│   │   ├── BCryptPasswordEncoder.java
│   │   ├── DateTimeUtil.java
│   │   ├── JacksonUtil.java
│   │   └── ResponseUtil.java
│   ├── validator/        # 数据校验
│   └── web/              # Web通用组件
└── src/main/resources/
    └── application-core.yml
```

#### 核心功能
1. **配置管理**
   - 系统级配置（application-core.yml）
   - 第三方服务配置（微信、阿里云、腾讯云）
   - 存储配置（本地、云存储）

2. **存储服务**
   - 多存储后端支持（阿里云OSS、腾讯云COS、七牛云、本地存储）
   - 统一文件上传接口
   - 图片压缩和水印处理

3. **通知服务**
   - 短信通知（腾讯云、阿里云）
   - 邮件通知（Spring Mail）
   - 微信模板消息

4. **工具类**
   - JSON处理（Jackson封装）
   - 日期时间处理
   - 响应结果封装
   - 密码加密（BCrypt）

### litemall-db 数据访问模块

#### 模块定位
负责数据持久化，提供实体定义和数据访问层。

#### 目录结构
```
litemall-db/
├── src/main/java/org/linlinjava/litemall/db/
│   ├── dao/              # MyBatis Mapper接口
│   ├── domain/           # 数据库实体
│   ├── service/          # 业务服务接口
│   └── util/             # 数据库工具
├── src/main/resources/
│   ├── generator/        # MyBatis Generator配置
│   │   └── generatorConfig.xml
│   └── mapper/           # MyBatis XML映射文件
└── sql/                  # 数据库脚本
    ├── litemall_schema.sql
    └── litemall_data.sql
```

#### 核心数据表
1. **用户相关**
   - `litemall_user` - 用户信息
   - `litemall_address` - 收货地址
   - `litemall_collect` - 用户收藏
   - `litemall_footprint` - 用户足迹

2. **商品相关**
   - `litemall_goods` - 商品信息
   - `litemall_category` - 商品分类
   - `litemall_brand` - 品牌信息
   - `litemall_issue` - 通用问题
   - `litemall_keyword` - 关键词

3. **订单相关**
   - `litemall_order` - 订单信息
   - `litemall_order_goods` - 订单商品
   - `litemall_cart` - 购物车
   - `litemall_region` - 行政区域

4. **营销相关**
   - `litemall_coupon` - 优惠券
   - `litemall_groupon` - 团购活动
   - `litemall_groupon_rules` - 团购规则
   - `litemall_topic` - 专题

5. **系统相关**
   - `litemall_admin` - 管理员
   - `litemall_notice` - 通知
   - `litemall_system` - 系统配置
   - `litemall_log` - 操作日志

### litemall-wx-api 微信小程序API

#### 模块定位
为微信小程序提供RESTful API接口。

#### 目录结构
```
litemall-wx-api/
├── src/main/java/org/linlinjava/litemall/wx/
│   ├── annotation/       # 自定义注解
│   ├── web/              # 控制器
│   │   ├── wx/           # 微信相关接口
│   │   ├── goods/        # 商品接口
│   │   ├── order/        # 订单接口
│   │   ├── user/         # 用户接口
│   │   ├── cart/         # 购物车接口
│   │   ├── coupon/       # 优惠券接口
│   │   ├── address/      # 地址接口
│   │   ├── collect/      # 收藏接口
│   │   ├── footprint/    # 足迹接口
│   │   ├── feedback/     # 反馈接口
│   │   └── topic/        # 专题接口
│   ├── service/          # 业务服务
│   └── config/           # 模块配置
└── src/main/resources/
    ├── application.yml
    └── application-wx.yml
```

#### 核心API分组
1. **认证授权**
   - `/wx/auth/login` - 微信登录
   - `/wx/auth/register` - 用户注册
   - `/wx/auth/reset` - 密码重置

2. **商品服务**
   - `/wx/goods/*` - 商品浏览
   - `/wx/category/*` - 商品分类
   - `/wx/brand/*` - 品牌信息

3. **订单服务**
   - `/wx/order/*` - 订单管理
   - `/wx/cart/*` - 购物车
   - `/wx/checkout/*` - 结算

4. **用户服务**
   - `/wx/user/*` - 用户信息
   - `/wx/address/*` - 收货地址
   - `/wx/collect/*` - 我的收藏

### litemall-admin-api 管理后台API

#### 模块定位
为管理后台提供RESTful API接口。

#### 目录结构
```
litemall-admin-api/
├── src/main/java/org/linlinjava/litemall/admin/
│   ├── annotation/       # 权限注解
│   ├── web/              # 控制器
│   │   ├── admin/        # 管理员接口
│   │   ├── goods/        # 商品管理接口
│   │   ├── order/        # 订单管理接口
│   │   ├── user/         # 用户管理接口
│   │   ├── market/       # 营销管理接口
│   │   ├── system/       # 系统管理接口
│   │   ├── stat/         # 统计接口
│   │   └── log/          # 日志接口
│   ├── service/          # 业务服务
│   ├── shiro/            # Shiro配置
│   └── config/           # 模块配置
└── src/main/resources/
    ├── application.yml
    └── application-admin.yml
```

#### 核心API分组
1. **系统管理**
   - `/admin/admin/*` - 管理员管理
   - `/admin/role/*` - 角色管理
   - `/admin/permission/*` - 权限管理
   - `/admin/log/*` - 操作日志

2. **商品管理**
   - `/admin/goods/*` - 商品管理
   - `/admin/category/*` - 分类管理
   - `/admin/brand/*` - 品牌管理
   - `/admin/issue/*` - 通用问题

3. **订单管理**
   - `/admin/order/*` - 订单管理
   - `/admin/order-refund/*` - 退款管理

4. **营销管理**
   - `/admin/coupon/*` - 优惠券管理
   - `/admin/topic/*` - 专题管理
   - `/admin/groupon/*` - 团购管理

5. **统计报表**
   - `/admin/stat/user` - 用户统计
   - `/admin/stat/goods` - 商品统计
   - `/admin/stat/order` - 订单统计

## 前端子项目

### litemall-admin 管理后台

#### 项目定位
基于Vue.js的PC端管理后台系统。

#### 技术栈
- **框架**：Vue.js 2.6.x
- **UI库**：Element UI 2.15.x
- **状态管理**：Vuex
- **路由**：Vue Router
- **HTTP**：Axios
- **构建工具**：Vue CLI 4.x

#### 功能模块
1. **登录认证**
   - 管理员登录/登出
   - 权限路由控制
   - 会话管理

2. **商品管理**
   - 商品列表管理
   - 商品分类管理
   - 品牌管理
   - 商品评价管理

3. **订单管理**
   - 订单列表
   - 订单详情
   - 发货管理
   - 退款处理

4. **用户管理**
   - 会员管理
   - 收货地址管理
   - 用户反馈

5. **营销管理**
   - 优惠券管理
   - 团购活动管理
   - 专题管理
   - 广告管理

6. **系统管理**
   - 管理员管理
   - 角色权限管理
   - 系统配置
   - 操作日志

### litemall-vue 移动端H5

#### 项目定位
基于Vue.js的移动端H5商城。

#### 技术栈
- **框架**：Vue.js 2.5.x
- **UI库**：Vant 2.x
- **状态管理**：Vuex
- **路由**：Vue Router
- **HTTP**：Axios
- **构建工具**：Vue CLI 3.x

#### 功能模块
1. **首页展示**
   - 轮播图
   - 新品推荐
   - 热销商品
   - 专题推荐

2. **商品浏览**
   - 商品分类
   - 商品搜索
   - 商品详情
   - 商品评价

3. **购物车**
   - 添加商品
   - 修改数量
   - 结算下单

4. **订单流程**
   - 创建订单
   - 支付订单
   - 查看订单
   - 确认收货

5. **个人中心**
   - 用户信息
   - 我的订单
   - 收货地址
   - 我的收藏
   - 优惠券

### litemall-wx 微信小程序

#### 项目定位
原生微信小程序商城应用。

#### 技术栈
- **框架**：原生小程序框架
- **UI组件**：Vant Weapp
- **状态管理**：小程序原生
- **网络请求**：wx.request

#### 功能模块
1. **底部Tab导航**
   - 首页
   - 分类
   - 购物车
   - 我的

2. **首页功能**
   - 搜索功能
   - 轮播图
   - 新品首发
   - 人气推荐
   - 专题精选

3. **分类功能**
   - 左侧分类导航
   - 右侧商品列表
   - 分类搜索

4. **商品功能**
   - 商品详情
   - 商品评价
   - 加入购物车
   - 立即购买

5. **购物车功能**
   - 商品列表
   - 编辑数量
   - 选择商品
   - 结算下单

6. **个人中心**
   - 用户信息
   - 订单管理
   - 收货地址
   - 我的收藏
   - 优惠券
   - 客服反馈

7. **订单功能**
   - 订单列表（全部、待付款、待发货、待收货）
   - 订单详情
   - 取消订单
   - 确认收货
   - 申请售后

## 模块依赖关系

### 依赖关系图
```
litemall-all (聚合服务)
├── litemall-core (核心服务)
│   └── litemall-db (数据访问)
├── litemall-wx-api (小程序API)
│   ├── litemall-core
│   └── litemall-db
└── litemall-admin-api (管理后台API)
    ├── litemall-core
    └── litemall-db

前端项目：
litemall-admin → litemall-admin-api
litemall-vue → litemall-wx-api
litemall-wx → litemall-wx-api
```

### 版本兼容性
- **JDK**：1.8+
- **Spring Boot**：2.1.5.RELEASE
- **MyBatis**：1.3.2
- **MySQL**：8.0.x
- **Node.js**：8.9+（前端）
- **npm**：3.0+（前端）

## 部署说明

### 开发环境部署
1. 安装MySQL并导入数据库脚本
2. 配置application.yml中的数据库连接
3. 启动后端服务（litemall-all或各模块独立启动）
4. 安装前端依赖并启动开发服务器

### 生产环境部署
1. 数据库主从配置
2. 后端服务集群部署
3. Nginx反向代理配置
4. 前端静态资源部署
5. 域名和SSL证书配置

## 扩展建议

### 后端扩展
- 引入Redis缓存
- 消息队列集成（RabbitMQ/RocketMQ）
- 分布式文件系统
- 微服务架构演进

### 前端扩展
- PWA支持
- 服务端渲染（SSR）
- 小程序分包优化
- 多端统一框架（Taro/uni-app）